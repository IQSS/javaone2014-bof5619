@startuml

' definitions
' -----------

' package "com.greptilian.javaone2014bof5619.dataverse"
interface CommandContext
class DatasetServiceBean
enum Permission
class DataFile
interface RequiredPermissions
interface Command
class EjbDataverseEngine
class Client
class DeleteDataFileCommand
class DataFileServiceBean
class User
' end package

CommandContext  --> "1" DatasetServiceBean
CommandContext  --> "1" DataFileServiceBean
RequiredPermissions  -- "1..*" Permission
Command  ..>  RequiredPermissions:has
Command  ..>  CommandContext:has
' content
' -------

' Command:
Command : Object execute(CommandContext)
Command : Map getAffectedDvObjects()
Command : User getUser()

' RequiredPermissions:
RequiredPermissions : Permission value()
RequiredPermissions : String dvObjectName()

' Permission:
Permission : Permission values()
Permission : Permission valueOf(String)
Permission : String getDescription()

' User:

' DataFileServiceBean:

' DatasetServiceBean:

' Client:
Client : void main(String)

' CommandContext:

' EjbDataverseEngine:
EjbDataverseEngine --> "1" CommandContext
EjbDataverseEngine : Object submit(Command)
EjbDataverseEngine : CommandContext getContext()

' DataFile:

' DeleteDataFileCommand:
Command <|.. DeleteDataFileCommand
DeleteDataFileCommand --> "1" User
DeleteDataFileCommand --> "1" DataFile
DeleteDataFileCommand : Object execute(CommandContext)
DeleteDataFileCommand : Map getAffectedDvObjects()
DeleteDataFileCommand : User getUser()

@enduml
